<div class="add-product-container">
  <h2>Thêm sản phẩm mới</h2>

  <!-- [formGroup]="productForm": Liên kết form HTML với biến productForm trong TypeScript -->
  <!-- (ngSubmit)="onSubmit()": Gọi hàm onSubmit khi form được gửi -->
  <form [formGroup]="productForm" (ngSubmit)="onSubmit()">

    <div class="form-group">
      <label for="name">Tên sản phẩm:</label>
      <input type="text" id="name" formControlName="name" class="form-control">
      <!--
        Hiển thị lỗi validation:
        formControl.invalid: Form control có lỗi.
        formControl.touched: Người dùng đã chạm vào input rồi bỏ ra (để tránh hiển thị lỗi ngay khi load trang).
      -->
      <div *ngIf="productForm.get('name')?.invalid && productForm.get('name')?.touched" class="error">
        <span *ngIf="productForm.get('name')?.errors?.['required']">Tên là bắt buộc.</span>
        <span *ngIf="productForm.get('name')?.errors?.['minlength']">Tên phải có ít nhất 3 ký tự.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="price">Giá ($):</label>
      <input type="number" id="price" formControlName="price" class="form-control">
      <div *ngIf="productForm.get('price')?.invalid && productForm.get('price')?.touched" class="error">
        <span *ngIf="productForm.get('price')?.errors?.['required']">Giá là bắt buộc.</span>
        <span *ngIf="productForm.get('price')?.errors?.['min']">Giá phải lớn hơn 0.</span>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Mô tả:</label>
      <textarea id="description" formControlName="description" class="form-control" rows="3"></textarea>
      <div *ngIf="productForm.get('description')?.invalid && productForm.get('description')?.touched" class="error">
        <span>Mô tả là bắt buộc.</span>
      </div>
    </div>

    <div class="form-group checkbox-group">
      <label for="inStock">
        <input type="checkbox" id="inStock" formControlName="inStock">
        Còn hàng
      </label>
    </div>

    <!-- Nút submit sẽ bị disable nếu form không hợp lệ (optional, ở đây ta cho submit để hiện lỗi) -->
    <button type="submit" [disabled]="productForm.invalid">Thêm sản phẩm</button>

  </form>
</div>
